<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Micha Amsalem and Ohad Hazan" />


<title>Final project - Advanced Topics in Data Mining and Knowledge Discovery</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "î‰™";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "î‰™";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Final project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About Me</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Final project - Advanced Topics in Data Mining and Knowledge Discovery</h1>
<h4 class="author">Micha Amsalem and Ohad Hazan</h4>
<h4 class="date">23 7 2020</h4>

</div>


<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This is an R Markdown based document for presenting the project results. The main target of the project is to build a predictive model.</p>
<div id="loading-r-packages" class="section level3">
<h3>Loading R packages</h3>
<pre class="r"><code>library(tidyverse)
library(descriptr)
library(knitr)
library(ggplot2)
library(mice)
library(lattice)
library(reshape2)
library(DataExplorer)</code></pre>
</div>
<div id="uploading-the-data" class="section level3">
<h3>Uploading the data</h3>
<pre class="r"><code>ffp &lt;- read.csv(&quot;ffp_train.csv&quot;)</code></pre>
</div>
<div id="overview-od-the-first-data-set---ffp" class="section level3">
<h3>Overview od the first data set - ffp</h3>
<p>Look for NA and missing values:</p>
<pre class="r"><code>ds_screener(ffp)</code></pre>
<pre><code>## -----------------------------------------------------------------------
## |  Column Name   |  Data Type  |  Levels  |  Missing  |  Missing (%)  |
## -----------------------------------------------------------------------
## |       ID       |   integer   |    NA    |     0     |       0       |
## |     GROUP      |   integer   |    NA    |     0     |       0       |
## |   CHEF_CLUB    |   integer   |    NA    |     0     |       0       |
## |    NUM_DEAL    |   integer   |    NA    |     0     |       0       |
## |   LAST_DEAL    |   numeric   |    NA    |     0     |       0       |
## |ADVANCE_PURCHASE|   integer   |    NA    |     0     |       0       |
## |   FARE_L_Y1    |   numeric   |    NA    |     0     |       0       |
## |   FARE_L_Y2    |   numeric   |    NA    |     0     |       0       |
## |   FARE_L_Y3    |   numeric   |    NA    |     0     |       0       |
## |   FARE_L_Y4    |   numeric   |    NA    |     0     |       0       |
## |   FARE_L_Y5    |   numeric   |    NA    |     0     |       0       |
## |  POINTS_L_Y1   |   numeric   |    NA    |     0     |       0       |
## |  POINTS_L_Y2   |   numeric   |    NA    |     0     |       0       |
## |  POINTS_L_Y3   |   numeric   |    NA    |     0     |       0       |
## |  POINTS_L_Y4   |   numeric   |    NA    |     0     |       0       |
## |  POINTS_L_Y5   |   numeric   |    NA    |     0     |       0       |
## |   CALL_FLAG    |   integer   |    NA    |     0     |       0       |
## | CREDIT_PROBLEM |   integer   |    NA    |     0     |       0       |
## |  RETURN_FLAG   |   integer   |    NA    |     0     |       0       |
## |  BENEFIT_FLAG  |   integer   |    NA    |     0     |       0       |
## |   BUYER_FLAG   |   integer   |    NA    |     0     |       0       |
## -----------------------------------------------------------------------
## 
##  Overall Missing Values           0 
##  Percentage of Missing Values     0 %
##  Rows with Missing Values         0 
##  Columns With Missing Values      0</code></pre>
<p>Summary statistics:</p>
<pre class="r"><code>summary(ffp)</code></pre>
<pre><code>##        ID            GROUP         CHEF_CLUB           NUM_DEAL        LAST_DEAL      ADVANCE_PURCHASE   FARE_L_Y1    
##  Min.   :    1   Min.   :1.000   Min.   :0.000000   Min.   : 0.000   Min.   :  0.00   Min.   : 6.00    Min.   :  0.0  
##  1st Qu.:11251   1st Qu.:2.000   1st Qu.:0.000000   1st Qu.: 3.000   1st Qu.: 26.70   1st Qu.:17.00    1st Qu.:115.0  
##  Median :22501   Median :3.000   Median :0.000000   Median : 4.000   Median : 40.00   Median :20.00    Median :140.0  
##  Mean   :22501   Mean   :3.001   Mean   :0.008867   Mean   : 3.996   Mean   : 49.93   Mean   :20.68    Mean   :150.2  
##  3rd Qu.:33750   3rd Qu.:4.000   3rd Qu.:0.000000   3rd Qu.: 5.000   3rd Qu.: 60.00   3rd Qu.:24.00    3rd Qu.:170.8  
##  Max.   :45000   Max.   :5.000   Max.   :1.000000   Max.   :14.000   Max.   :493.30   Max.   :42.00    Max.   :518.3  
##    FARE_L_Y2       FARE_L_Y3       FARE_L_Y4       FARE_L_Y5      POINTS_L_Y1     POINTS_L_Y2     POINTS_L_Y3   
##  Min.   :  0.0   Min.   :  0.0   Min.   :  0.0   Min.   :  0.0   Min.   :  0.0   Min.   :  0.0   Min.   :  0.0  
##  1st Qu.:115.0   1st Qu.:115.0   1st Qu.:115.0   1st Qu.:115.0   1st Qu.:111.5   1st Qu.:111.5   1st Qu.:111.5  
##  Median :140.0   Median :140.0   Median :140.0   Median :140.0   Median :140.7   Median :140.8   Median :140.8  
##  Mean   :150.2   Mean   :150.3   Mean   :150.2   Mean   :150.1   Mean   :149.6   Mean   :149.6   Mean   :149.6  
##  3rd Qu.:170.8   3rd Qu.:170.8   3rd Qu.:170.8   3rd Qu.:170.8   3rd Qu.:176.5   3rd Qu.:176.6   3rd Qu.:176.6  
##  Max.   :524.2   Max.   :495.8   Max.   :494.2   Max.   :515.8   Max.   :462.2   Max.   :476.2   Max.   :467.5  
##   POINTS_L_Y4     POINTS_L_Y5      CALL_FLAG       CREDIT_PROBLEM     RETURN_FLAG        BENEFIT_FLAG      BUYER_FLAG     
##  Min.   :  0.0   Min.   :  0.0   Min.   :0.00000   Min.   :0.00000   Min.   :0.000000   Min.   :0.0000   Min.   :0.00000  
##  1st Qu.:111.7   1st Qu.:111.4   1st Qu.:0.00000   1st Qu.:0.00000   1st Qu.:0.000000   1st Qu.:0.0000   1st Qu.:0.00000  
##  Median :140.8   Median :140.7   Median :0.00000   Median :0.00000   Median :0.000000   Median :0.0000   Median :0.00000  
##  Mean   :149.6   Mean   :149.6   Mean   :0.05031   Mean   :0.09751   Mean   :0.007667   Mean   :0.1274   Mean   :0.09358  
##  3rd Qu.:176.8   3rd Qu.:176.7   3rd Qu.:0.00000   3rd Qu.:0.00000   3rd Qu.:0.000000   3rd Qu.:0.0000   3rd Qu.:0.00000  
##  Max.   :501.9   Max.   :498.6   Max.   :1.00000   Max.   :1.00000   Max.   :1.000000   Max.   :1.0000   Max.   :1.00000</code></pre>
<p>Variables overview:</p>
<pre class="r"><code>glimpse(ffp)</code></pre>
<pre><code>## Rows: 45,000
## Columns: 21
## $ ID               [3m[90m&lt;int&gt;[39m[23m 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27...
## $ GROUP            [3m[90m&lt;int&gt;[39m[23m 1, 1, 5, 3, 5, 2, 2, 2, 2, 2, 2, 5, 4, 4, 1, 5, 5, 3, 1, 3, 4, 5, 3, 3, 2, 2, 1, 2, 2, 2, 2, 3, 1...
## $ CHEF_CLUB        [3m[90m&lt;int&gt;[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ NUM_DEAL         [3m[90m&lt;int&gt;[39m[23m 5, 2, 2, 6, 4, 6, 7, 4, 4, 4, 2, 6, 6, 3, 2, 7, 0, 2, 8, 2, 4, 5, 2, 5, 1, 6, 6, 6, 3, 4, 4, 3, 3...
## $ LAST_DEAL        [3m[90m&lt;dbl&gt;[39m[23m 23.3, 60.0, 83.3, 16.7, 43.3, 26.7, 20.0, 30.0, 56.7, 43.3, 53.3, 36.7, 50.0, 60.0, 53.3, 20.0, 0...
## $ ADVANCE_PURCHASE [3m[90m&lt;int&gt;[39m[23m 12, 19, 20, 18, 25, 23, 22, 20, 25, 28, 15, 26, 29, 17, 11, 24, 23, 28, 20, 26, 20, 14, 25, 28, 1...
## $ FARE_L_Y1        [3m[90m&lt;dbl&gt;[39m[23m 111.7, 116.7, 152.5, 126.7, 163.3, 147.5, 102.5, 114.2, 227.5, 180.8, 102.5, 212.5, 258.3, 180.8,...
## $ FARE_L_Y2        [3m[90m&lt;dbl&gt;[39m[23m 113.3, 120.0, 149.2, 118.3, 162.5, 148.3, 106.7, 110.0, 230.0, 175.0, 101.7, 195.8, 295.8, 181.7,...
## $ FARE_L_Y3        [3m[90m&lt;dbl&gt;[39m[23m 117.5, 115.0, 150.8, 94.2, 165.8, 158.3, 119.2, 106.7, 225.8, 181.7, 124.2, 196.7, 328.3, 185.8, ...
## $ FARE_L_Y4        [3m[90m&lt;dbl&gt;[39m[23m 119.2, 117.5, 152.5, 81.7, 171.7, 156.7, 110.0, 118.3, 210.0, 173.3, 122.5, 221.7, 353.3, 182.5, ...
## $ FARE_L_Y5        [3m[90m&lt;dbl&gt;[39m[23m 116.7, 110.8, 161.7, 93.3, 181.7, 155.8, 115.0, 119.2, 242.5, 180.0, 139.2, 220.0, 389.2, 177.5, ...
## $ POINTS_L_Y1      [3m[90m&lt;dbl&gt;[39m[23m 140.6, 92.3, 168.5, 84.9, 166.9, 198.4, 108.4, 125.0, 287.9, 274.2, 52.2, 232.5, 318.9, 251.2, 10...
## $ POINTS_L_Y2      [3m[90m&lt;dbl&gt;[39m[23m 121.1, 97.9, 166.8, 73.8, 173.8, 200.8, 81.9, 98.4, 268.5, 245.9, 66.8, 199.7, 324.2, 216.3, 131....
## $ POINTS_L_Y3      [3m[90m&lt;dbl&gt;[39m[23m 122.6, 78.5, 182.2, 74.6, 162.7, 166.3, 109.8, 96.8, 233.1, 176.5, 107.8, 187.9, 304.2, 236.4, 13...
## $ POINTS_L_Y4      [3m[90m&lt;dbl&gt;[39m[23m 133.5, 59.8, 163.4, 70.8, 124.8, 170.3, 100.5, 147.6, 243.9, 188.6, 135.3, 188.4, 321.4, 196.0, 1...
## $ POINTS_L_Y5      [3m[90m&lt;dbl&gt;[39m[23m 138.2, 66.5, 150.4, 74.3, 156.8, 177.2, 137.4, 137.9, 255.5, 206.8, 141.2, 225.5, 325.2, 195.1, 1...
## $ CALL_FLAG        [3m[90m&lt;int&gt;[39m[23m 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ CREDIT_PROBLEM   [3m[90m&lt;int&gt;[39m[23m 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0...
## $ RETURN_FLAG      [3m[90m&lt;int&gt;[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0...
## $ BENEFIT_FLAG     [3m[90m&lt;int&gt;[39m[23m 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0...
## $ BUYER_FLAG       [3m[90m&lt;int&gt;[39m[23m 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0...</code></pre>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
